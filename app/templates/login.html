{% extends "base.html" %}
{% set title = t("auth_login_title") %}
{% block content %}
<section class="panel auth-panel">
  <h1>{{ t("auth_login_title") }}</h1>
  <p class="muted">{{ t("auth_login_hint") }}</p>

  {% if error %}
    <div class="alert error">{{ error }}</div>
  {% endif %}

  {% if telegram_bot_username %}
    <div class="auth-widget-wrap">
      <script
        async
        src="https://telegram.org/js/telegram-widget.js?22"
        data-telegram-login="{{ telegram_bot_username }}"
        data-size="large"
        data-radius="8"
        data-auth-url="{{ telegram_callback_url }}"
        data-request-access="write"
      ></script>
    </div>
  {% else %}
    <p class="muted">{{ t("auth_config_missing") }}</p>
  {% endif %}
</section>
{% endblock %}
